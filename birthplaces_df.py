import os
import json
import ast
import pandas as pd
import csv
mystr = """
{"head": {"vars": ["historian", "historian_name", "birthplace", "birthplace_label"]}, "results": {"bindings": [{"historian": {"type": "uri", "value": "http://www.wikidata.org/entity/Q41616785"}, "birthplace": {"type": "uri", "value": "http://www.wikidata.org/entity/Q1971847"}, "historian_name": {"xml:lang": "en", "type": "literal", "value": "Gustav Ludwig"}, "birthplace_label": {"xml:lang": "en", "type": "literal", "value": "Nauheim"}}, {"historian": {"type": "uri", "value": "http://www.wikidata.org/entity/Q55453618"}, "birthplace": {"type": "uri", "value": "http://www.wikidata.org/entity/Q13367"}, "historian_name": {"xml:lang": "en", "type": "literal", "value": "Stefano Tumidei"}, "birthplace_label": {"xml:lang": "en", "type": "literal", "value": "Forl\u00ec"}}, {"historian": {"type": "uri", "value": "http://www.wikidata.org/entity/Q55453618"}, "birthplace": {"type": "uri", "value": "http://www.wikidata.org/entity/Q13367"}, "historian_name": {"xml:lang": "en", "type": "literal", "value": "Stefano Tumidei"}, "birthplace_label": {"xml:lang": "en-ca", "type": "literal", "value": "Forl\u00ec"}}, {"historian": {"type": "uri", "value": "http://www.wikidata.org/entity/Q55453618"}, "birthplace": {"type": "uri", "value": "http://www.wikidata.org/entity/Q13367"}, "historian_name": {"xml:lang": "en", "type": "literal", "value": "Stefano Tumidei"}, "birthplace_label": {"xml:lang": "en-gb", "type": "literal", "value": "Forl\u00ec"}}, {"historian": {"type": "uri", "value": "http://www.wikidata.org/entity/Q18935222"}, "birthplace": {"type": "uri", "value": "http://www.wikidata.org/entity/Q64"}, "historian_name": {"xml:lang": "en", "type": "literal", "value": "Werner Cohn"}, "birthplace_label": {"xml:lang": "en", "type": "literal", "value": "Berlin"}}, {"historian": {"type": "uri", "value": "http://www.wikidata.org/entity/Q18935222"}, "birthplace": {"type": "uri", "value": "http://www.wikidata.org/entity/Q64"}, "historian_name": {"xml:lang": "en", "type": "literal", "value": "Werner Cohn"}, "birthplace_label": {"xml:lang": "en-ca", "type": "literal", "value": "Berlin"}}, {"historian": {"type": "uri", "value": "http://www.wikidata.org/entity/Q18935222"}, "birthplace": {"type": "uri", "value": "http://www.wikidata.org/entity/Q64"}, "historian_name": {"xml:lang": "en", "type": "literal", "value": "Werner Cohn"}, "birthplace_label": {"xml:lang": "en-gb", "type": "literal", "value": "Berlin"}}, {"historian": {"type": "uri", "value": "http://www.wikidata.org/entity/Q18935222"}, "birthplace": {"type": "uri", "value": "http://www.wikidata.org/entity/Q64"}, "historian_name": {"xml:lang": "en-ca", "type": "literal", "value": "Werner Cohn"}, "birthplace_label": {"xml:lang": "en", "type": "literal", "value": "Berlin"}}, {"historian": {"type": "uri", "value": "http://www.wikidata.org/entity/Q18935222"}, "birthplace": {"type": "uri", "value": "http://www.wikidata.org/entity/Q64"}, "historian_name": {"xml:lang": "en-gb", "type": "literal", "value": "Werner Cohn"}, "birthplace_label": {"xml:lang": "en", "type": "literal", "value": "Berlin"}}, {"historian": {"type": "uri", "value": "http://www.wikidata.org/entity/Q18935222"}, "birthplace": {"type": "uri", "value": "http://www.wikidata.org/entity/Q64"}, "historian_name": {"xml:lang": "en-ca", "type": "literal", "value": "Werner Cohn"}, "birthplace_label": {"xml:lang": "en-ca", "type": "literal", "value": "Berlin"}}, {"historian": {"type": "uri", "value": "http://www.wikidata.org/entity/Q18935222"}, "birthplace": {"type": "uri", "value": "http://www.wikidata.org/entity/Q64"}, "historian_name": {"xml:lang": "en-ca", "type": "literal", "value": "Werner Cohn"}, "birthplace_label": {"xml:lang": "en-gb", "type": "literal", "value": "Berlin"}}, {"historian": {"type": "uri", "value": "http://www.wikidata.org/entity/Q18935222"}, "birthplace": {"type": "uri", "value": "http://www.wikidata.org/entity/Q64"}, "historian_name": {"xml:lang": "en-gb", "type": "literal", "value": "Werner Cohn"}, "birthplace_label": {"xml:lang": "en-ca", "type": "literal", "value": "Berlin"}}, {"historian": {"type": "uri", "value": "http://www.wikidata.org/entity/Q18935222"}, "birthplace": {"type": "uri", "value": "http://www.wikidata.org/entity/Q64"}, "historian_name": {"xml:lang": "en-gb", "type": "literal", "value": "Werner Cohn"}, "birthplace_label": {"xml:lang": "en-gb", "type": "literal", "value": "Berlin"}}, {"historian": {"type": "uri", "value": "http://www.wikidata.org/entity/Q537874"}, "birthplace": {"type": "uri", "value": "http://www.wikidata.org/entity/Q84"}, "historian_name": {"xml:lang": "en", "type": "literal", "value": "John Pope-Hennessy"}, "birthplace_label": {"xml:lang": "en", "type": "literal", "value": "London"}}, {"historian": {"type": "uri", "value": "http://www.wikidata.org/entity/Q537874"}, "birthplace": {"type": "uri", "value": "http://www.wikidata.org/entity/Q84"}, "historian_name": {"xml:lang": "en", "type": "literal", "value": "John Pope-Hennessy"}, "birthplace_label": {"xml:lang": "en-gb", "type": "literal", "value": "London"}}, {"historian": {"type": "uri", "value": "http://www.wikidata.org/entity/Q537874"}, "birthplace": {"type": "uri", "value": "http://www.wikidata.org/entity/Q84"}, "historian_name": {"xml:lang": "en", "type": "literal", "value": "John Pope-Hennessy"}, "birthplace_label": {"xml:lang": "en-ca", "type": "literal", "value": "London"}}, {"historian": {"type": "uri", "value": "http://www.wikidata.org/entity/Q1089074"}, "birthplace": {"type": "uri", "value": "http://www.wikidata.org/entity/Q220"}, "historian_name": {"xml:lang": "en", "type": "literal", "value": "Federico Zeri"}, "birthplace_label": {"xml:lang": "en", "type": "literal", "value": "Rome"}}, {"historian": {"type": "uri", "value": "http://www.wikidata.org/entity/Q1089074"}, "birthplace": {"type": "uri", "value": "http://www.wikidata.org/entity/Q220"}, "historian_name": {"xml:lang": "en-ca", "type": "literal", "value": "Federico Zeri"}, "birthplace_label": {"xml:lang": "en", "type": "literal", "value": "Rome"}}, {"historian": {"type": "uri", "value": "http://www.wikidata.org/entity/Q1089074"}, "birthplace": {"type": "uri", "value": "http://www.wikidata.org/entity/Q220"}, "historian_name": {"xml:lang": "en-gb", "type": "literal", "value": "Federico Zeri"}, "birthplace_label": {"xml:lang": "en", "type": "literal", "value": "Rome"}}, {"historian": {"type": "uri", "value": "http://www.wikidata.org/entity/Q6700132"}, "birthplace": {"type": "uri", "value": "http://www.wikidata.org/entity/Q220"}, "historian_name": {"xml:lang": "en", "type": "literal", "value": "Luigi Salerno"}, "birthplace_label": {"xml:lang": "en", "type": "literal", "value": "Rome"}}, {"historian": {"type": "uri", "value": "http://www.wikidata.org/entity/Q1296486"}, "birthplace": {"type": "uri", "value": "http://www.wikidata.org/entity/Q715"}, "historian_name": {"xml:lang": "en", "type": "literal", "value": "Wolfgang Lotz"}, "birthplace_label": {"xml:lang": "en-ca", "type": "literal", "value": "Heilbronn"}}, {"historian": {"type": "uri", "value": "http://www.wikidata.org/entity/Q1296486"}, "birthplace": {"type": "uri", "value": "http://www.wikidata.org/entity/Q715"}, "historian_name": {"xml:lang": "en", "type": "literal", "value": "Wolfgang Lotz"}, "birthplace_label": {"xml:lang": "en-gb", "type": "literal", "value": "Heilbronn"}}, {"historian": {"type": "uri", "value": "http://www.wikidata.org/entity/Q1373290"}, "birthplace": {"type": "uri", "value": "http://www.wikidata.org/entity/Q495"}, "historian_name": {"xml:lang": "en", "type": "literal", "value": "Eugenio Battisti"}, "birthplace_label": {"xml:lang": "en-ca", "type": "literal", "value": "Turin"}}, {"historian": {"type": "uri", "value": "http://www.wikidata.org/entity/Q1373290"}, "birthplace": {"type": "uri", "value": "http://www.wikidata.org/entity/Q495"}, "historian_name": {"xml:lang": "en", "type": "literal", "value": "Eugenio Battisti"}, "birthplace_label": {"xml:lang": "en-gb", "type": "literal", "value": "Turin"}}, {"historian": {"type": "uri", "value": "http://www.wikidata.org/entity/Q1373290"}, "birthplace": {"type": "uri", "value": "http://www.wikidata.org/entity/Q495"}, "historian_name": {"xml:lang": "en-ca", "type": "literal", "value": "Eugenio Battisti"}, "birthplace_label": {"xml:lang": "en-ca", "type": "literal", "value": "Turin"}}, {"historian": {"type": "uri", "value": "http://www.wikidata.org/entity/Q1373290"}, "birthplace": {"type": "uri", "value": "http://www.wikidata.org/entity/Q495"}, "historian_name": {"xml:lang": "en-ca", "type": "literal", "value": "Eugenio Battisti"}, "birthplace_label": {"xml:lang": "en-gb", "type": "literal", "value": "Turin"}}, {"historian": {"type": "uri", "value": "http://www.wikidata.org/entity/Q1373290"}, "birthplace": {"type": "uri", "value": "http://www.wikidata.org/entity/Q495"}, "historian_name": {"xml:lang": "en-gb", "type": "literal", "value": "Eugenio Battisti"}, "birthplace_label": {"xml:lang": "en-ca", "type": "literal", "value": "Turin"}}, {"historian": {"type": "uri", "value": "http://www.wikidata.org/entity/Q60185"}, "birthplace": {"type": "uri", "value": "http://www.wikidata.org/entity/Q1055"}, "historian_name": {"xml:lang": "en", "type": "literal", "value": "Aby Warburg"}, "birthplace_label": {"xml:lang": "en-ca", "type": "literal", "value": "Hamburg"}}, {"historian": {"type": "uri", "value": "http://www.wikidata.org/entity/Q60185"}, "birthplace": {"type": "uri", "value": "http://www.wikidata.org/entity/Q1055"}, "historian_name": {"xml:lang": "en", "type": "literal", "value": "Aby Warburg"}, "birthplace_label": {"xml:lang": "en-gb", "type": "literal", "value": "Hamburg"}}, {"historian": {"type": "uri", "value": "http://www.wikidata.org/entity/Q1296486"}, "birthplace": {"type": "uri", "value": "http://www.wikidata.org/entity/Q715"}, "historian_name": {"xml:lang": "en", "type": "literal", "value": "Wolfgang Lotz"}, "birthplace_label": {"xml:lang": "en", "type": "literal", "value": "Heilbronn"}}, {"historian": {"type": "uri", "value": "http://www.wikidata.org/entity/Q995470"}, "birthplace": {"type": "uri", "value": "http://www.wikidata.org/entity/Q242478"}, "historian_name": {"xml:lang": "en", "type": "literal", "value": "Korn\u00e9l Fabriczy"}, "birthplace_label": {"xml:lang": "en", "type": "literal", "value": "Levo\u010da"}}, {"historian": {"type": "uri", "value": "http://www.wikidata.org/entity/Q995470"}, "birthplace": {"type": "uri", "value": "http://www.wikidata.org/entity/Q242478"}, "historian_name": {"xml:lang": "en", "type": "literal", "value": "Korn\u00e9l Fabriczy"}, "birthplace_label": {"xml:lang": "en-ca", "type": "literal", "value": "Levo\u010da"}}, {"historian": {"type": "uri", "value": "http://www.wikidata.org/entity/Q995470"}, "birthplace": {"type": "uri", "value": "http://www.wikidata.org/entity/Q242478"}, "historian_name": {"xml:lang": "en", "type": "literal", "value": "Korn\u00e9l Fabriczy"}, "birthplace_label": {"xml:lang": "en-gb", "type": "literal", "value": "Levo\u010da"}}, {"historian": {"type": "uri", "value": "http://www.wikidata.org/entity/Q1629748"}, "birthplace": {"type": "uri", "value": "http://www.wikidata.org/entity/Q64"}, "historian_name": {"xml:lang": "en", "type": "literal", "value": "Kurt Badt"}, "birthplace_label": {"xml:lang": "en", "type": "literal", "value": "Berlin"}}, {"historian": {"type": "uri", "value": "http://www.wikidata.org/entity/Q1629748"}, "birthplace": {"type": "uri", "value": "http://www.wikidata.org/entity/Q64"}, "historian_name": {"xml:lang": "en", "type": "literal", "value": "Kurt Badt"}, "birthplace_label": {"xml:lang": "en-ca", "type": "literal", "value": "Berlin"}}, {"historian": {"type": "uri", "value": "http://www.wikidata.org/entity/Q1629748"}, "birthplace": {"type": "uri", "value": "http://www.wikidata.org/entity/Q64"}, "historian_name": {"xml:lang": "en", "type": "literal", "value": "Kurt Badt"}, "birthplace_label": {"xml:lang": "en-gb", "type": "literal", "value": "Berlin"}}, {"historian": {"type": "uri", "value": "http://www.wikidata.org/entity/Q88907"}, "birthplace": {"type": "uri", "value": "http://www.wikidata.org/entity/Q1726"}, "historian_name": {"xml:lang": "en", "type": "literal", "value": "Ernst Kitzinger"}, "birthplace_label": {"xml:lang": "en", "type": "literal", "value": "Munich"}}, {"historian": {"type": "uri", "value": "http://www.wikidata.org/entity/Q88907"}, "birthplace": {"type": "uri", "value": "http://www.wikidata.org/entity/Q1726"}, "historian_name": {"xml:lang": "en-ca", "type": "literal", "value": "Ernst Kitzinger"}, "birthplace_label": {"xml:lang": "en", "type": "literal", "value": "Munich"}}, {"historian": {"type": "uri", "value": "http://www.wikidata.org/entity/Q88907"}, "birthplace": {"type": "uri", "value": "http://www.wikidata.org/entity/Q1726"}, "historian_name": {"xml:lang": "en-gb", "type": "literal", "value": "Ernst Kitzinger"}, "birthplace_label": {"xml:lang": "en", "type": "literal", "value": "Munich"}}, {"historian": {"type": "uri", "value": "http://www.wikidata.org/entity/Q3051533"}, "birthplace": {"type": "uri", "value": "http://www.wikidata.org/entity/Q993164"}, "historian_name": {"xml:lang": "en", "type": "literal", "value": "Ellis Waterhouse"}, "birthplace_label": {"xml:lang": "en", "type": "literal", "value": "Epsom"}}, {"historian": {"type": "uri", "value": "http://www.wikidata.org/entity/Q3051533"}, "birthplace": {"type": "uri", "value": "http://www.wikidata.org/entity/Q993164"}, "historian_name": {"xml:lang": "en", "type": "literal", "value": "Ellis Waterhouse"}, "birthplace_label": {"xml:lang": "en-ca", "type": "literal", "value": "Epsom"}}, {"historian": {"type": "uri", "value": "http://www.wikidata.org/entity/Q3051533"}, "birthplace": {"type": "uri", "value": "http://www.wikidata.org/entity/Q993164"}, "historian_name": {"xml:lang": "en", "type": "literal", "value": "Ellis Waterhouse"}, "birthplace_label": {"xml:lang": "en-gb", "type": "literal", "value": "Epsom"}}, {"historian": {"type": "uri", "value": "http://www.wikidata.org/entity/Q1373290"}, "birthplace": {"type": "uri", "value": "http://www.wikidata.org/entity/Q495"}, "historian_name": {"xml:lang": "en", "type": "literal", "value": "Eugenio Battisti"}, "birthplace_label": {"xml:lang": "en", "type": "literal", "value": "Turin"}}, {"historian": {"type": "uri", "value": "http://www.wikidata.org/entity/Q1373290"}, "birthplace": {"type": "uri", "value": "http://www.wikidata.org/entity/Q495"}, "historian_name": {"xml:lang": "en-ca", "type": "literal", "value": "Eugenio Battisti"}, "birthplace_label": {"xml:lang": "en", "type": "literal", "value": "Turin"}}, {"historian": {"type": "uri", "value": "http://www.wikidata.org/entity/Q1373290"}, "birthplace": {"type": "uri", "value": "http://www.wikidata.org/entity/Q495"}, "historian_name": {"xml:lang": "en-gb", "type": "literal", "value": "Eugenio Battisti"}, "birthplace_label": {"xml:lang": "en", "type": "literal", "value": "Turin"}}, {"historian": {"type": "uri", "value": "http://www.wikidata.org/entity/Q457739"}, "birthplace": {"type": "uri", "value": "http://www.wikidata.org/entity/Q649"}, "historian_name": {"xml:lang": "en", "type": "literal", "value": "Leo Steinberg"}, "birthplace_label": {"xml:lang": "en", "type": "literal", "value": "Moscow"}}, {"historian": {"type": "uri", "value": "http://www.wikidata.org/entity/Q457739"}, "birthplace": {"type": "uri", "value": "http://www.wikidata.org/entity/Q649"}, "historian_name": {"xml:lang": "en", "type": "literal", "value": "Leo Steinberg"}, "birthplace_label": {"xml:lang": "en-ca", "type": "literal", "value": "Moscow"}}, {"historian": {"type": "uri", "value": "http://www.wikidata.org/entity/Q457739"}, "birthplace": {"type": "uri", "value": "http://www.wikidata.org/entity/Q649"}, "historian_name": {"xml:lang": "en", "type": "literal", "value": "Leo Steinberg"}, "birthplace_label": {"xml:lang": "en-gb", "type": "literal", "value": "Moscow"}}, {"historian": {"type": "uri", "value": "http://www.wikidata.org/entity/Q1712683"}, "birthplace": {"type": "uri", "value": "http://www.wikidata.org/entity/Q23008"}, "historian_name": {"xml:lang": "en", "type": "literal", "value": "Julius S. Held"}, "birthplace_label": {"xml:lang": "en", "type": "literal", "value": "Mosbach"}}, {"historian": {"type": "uri", "value": "http://www.wikidata.org/entity/Q1712683"}, "birthplace": {"type": "uri", "value": "http://www.wikidata.org/entity/Q23008"}, "historian_name": {"xml:lang": "en", "type": "literal", "value": "Julius S. Held"}, "birthplace_label": {"xml:lang": "en-ca", "type": "literal", "value": "Mosbach"}}, {"historian": {"type": "uri", "value": "http://www.wikidata.org/entity/Q1712683"}, "birthplace": {"type": "uri", "value": "http://www.wikidata.org/entity/Q23008"}, "historian_name": {"xml:lang": "en", "type": "literal", "value": "Julius S. Held"}, "birthplace_label": {"xml:lang": "en-gb", "type": "literal", "value": "Mosbach"}}, {"historian": {"type": "uri", "value": "http://www.wikidata.org/entity/Q1373290"}, "birthplace": {"type": "uri", "value": "http://www.wikidata.org/entity/Q495"}, "historian_name": {"xml:lang": "en-gb", "type": "literal", "value": "Eugenio Battisti"}, "birthplace_label": {"xml:lang": "en-gb", "type": "literal", "value": "Turin"}}, {"historian": {"type": "uri", "value": "http://www.wikidata.org/entity/Q3057287"}, "birthplace": {"type": "uri", "value": "http://www.wikidata.org/entity/Q671011"}, "historian_name": {"xml:lang": "en", "type": "literal", "value": "Ernst Steinmann"}, "birthplace_label": {"xml:lang": "en", "type": "literal", "value": "J\u00f6rdenstorf"}}, {"historian": {"type": "uri", "value": "http://www.wikidata.org/entity/Q3057287"}, "birthplace": {"type": "uri", "value": "http://www.wikidata.org/entity/Q671011"}, "historian_name": {"xml:lang": "en", "type": "literal", "value": "Ernst Steinmann"}, "birthplace_label": {"xml:lang": "en-ca", "type": "literal", "value": "J\u00f6rdenstorf"}}, {"historian": {"type": "uri", "value": "http://www.wikidata.org/entity/Q3057287"}, "birthplace": {"type": "uri", "value": "http://www.wikidata.org/entity/Q671011"}, "historian_name": {"xml:lang": "en", "type": "literal", "value": "Ernst Steinmann"}, "birthplace_label": {"xml:lang": "en-gb", "type": "literal", "value": "J\u00f6rdenstorf"}}, {"historian": {"type": "uri", "value": "http://www.wikidata.org/entity/Q1641821"}, "birthplace": {"type": "uri", "value": "http://www.wikidata.org/entity/Q3949"}, "historian_name": {"xml:lang": "en", "type": "literal", "value": "Otto Lehmann-Brockhaus"}, "birthplace_label": {"xml:lang": "en", "type": "literal", "value": "Unna"}}, {"historian": {"type": "uri", "value": "http://www.wikidata.org/entity/Q1641821"}, "birthplace": {"type": "uri", "value": "http://www.wikidata.org/entity/Q3949"}, "historian_name": {"xml:lang": "en", "type": "literal", "value": "Otto Lehmann-Brockhaus"}, "birthplace_label": {"xml:lang": "en-ca", "type": "literal", "value": "Unna"}}, {"historian": {"type": "uri", "value": "http://www.wikidata.org/entity/Q1641821"}, "birthplace": {"type": "uri", "value": "http://www.wikidata.org/entity/Q3949"}, "historian_name": {"xml:lang": "en", "type": "literal", "value": "Otto Lehmann-Brockhaus"}, "birthplace_label": {"xml:lang": "en-gb", "type": "literal", "value": "Unna"}}, {"historian": {"type": "uri", "value": "http://www.wikidata.org/entity/Q2824734"}, "birthplace": {"type": "uri", "value": "http://www.wikidata.org/entity/Q279"}, "historian_name": {"xml:lang": "en", "type": "literal", "value": "Adolfo Venturi"}, "birthplace_label": {"xml:lang": "en", "type": "literal", "value": "Modena"}}, {"historian": {"type": "uri", "value": "http://www.wikidata.org/entity/Q2824734"}, "birthplace": {"type": "uri", "value": "http://www.wikidata.org/entity/Q279"}, "historian_name": {"xml:lang": "en-ca", "type": "literal", "value": "Adolfo Venturi"}, "birthplace_label": {"xml:lang": "en", "type": "literal", "value": "Modena"}}, {"historian": {"type": "uri", "value": "http://www.wikidata.org/entity/Q2824734"}, "birthplace": {"type": "uri", "value": "http://www.wikidata.org/entity/Q279"}, "historian_name": {"xml:lang": "en-gb", "type": "literal", "value": "Adolfo Venturi"}, "birthplace_label": {"xml:lang": "en", "type": "literal", "value": "Modena"}}, {"historian": {"type": "uri", "value": "http://www.wikidata.org/entity/Q60185"}, "birthplace": {"type": "uri", "value": "http://www.wikidata.org/entity/Q1055"}, "historian_name": {"xml:lang": "en", "type": "literal", "value": "Aby Warburg"}, "birthplace_label": {"xml:lang": "en", "type": "literal", "value": "Hamburg"}}, {"historian": {"type": "uri", "value": "http://www.wikidata.org/entity/Q88907"}, "birthplace": {"type": "uri", "value": "http://www.wikidata.org/entity/Q1726"}, "historian_name": {"xml:lang": "en", "type": "literal", "value": "Ernst Kitzinger"}, "birthplace_label": {"xml:lang": "en-gb", "type": "literal", "value": "Munich"}}, {"historian": {"type": "uri", "value": "http://www.wikidata.org/entity/Q88907"}, "birthplace": {"type": "uri", "value": "http://www.wikidata.org/entity/Q1726"}, "historian_name": {"xml:lang": "en-ca", "type": "literal", "value": "Ernst Kitzinger"}, "birthplace_label": {"xml:lang": "en-gb", "type": "literal", "value": "Munich"}}, {"historian": {"type": "uri", "value": "http://www.wikidata.org/entity/Q88907"}, "birthplace": {"type": "uri", "value": "http://www.wikidata.org/entity/Q1726"}, "historian_name": {"xml:lang": "en-gb", "type": "literal", "value": "Ernst Kitzinger"}, "birthplace_label": {"xml:lang": "en-gb", "type": "literal", "value": "Munich"}}, {"historian": {"type": "uri", "value": "http://www.wikidata.org/entity/Q88907"}, "birthplace": {"type": "uri", "value": "http://www.wikidata.org/entity/Q1726"}, "historian_name": {"xml:lang": "en", "type": "literal", "value": "Ernst Kitzinger"}, "birthplace_label": {"xml:lang": "en-ca", "type": "literal", "value": "Munich"}}, {"historian": {"type": "uri", "value": "http://www.wikidata.org/entity/Q88907"}, "birthplace": {"type": "uri", "value": "http://www.wikidata.org/entity/Q1726"}, "historian_name": {"xml:lang": "en-ca", "type": "literal", "value": "Ernst Kitzinger"}, "birthplace_label": {"xml:lang": "en-ca", "type": "literal", "value": "Munich"}}, {"historian": {"type": "uri", "value": "http://www.wikidata.org/entity/Q88907"}, "birthplace": {"type": "uri", "value": "http://www.wikidata.org/entity/Q1726"}, "historian_name": {"xml:lang": "en-gb", "type": "literal", "value": "Ernst Kitzinger"}, "birthplace_label": {"xml:lang": "en-ca", "type": "literal", "value": "Munich"}}, {"historian": {"type": "uri", "value": "http://www.wikidata.org/entity/Q90407"}, "birthplace": {"type": "uri", "value": "http://www.wikidata.org/entity/Q3075"}, "historian_name": {"xml:lang": "en", "type": "literal", "value": "Richard Krautheimer"}, "birthplace_label": {"xml:lang": "en", "type": "literal", "value": "F\u00fcrth"}}, {"historian": {"type": "uri", "value": "http://www.wikidata.org/entity/Q90407"}, "birthplace": {"type": "uri", "value": "http://www.wikidata.org/entity/Q3075"}, "historian_name": {"xml:lang": "en", "type": "literal", "value": "Richard Krautheimer"}, "birthplace_label": {"xml:lang": "en-ca", "type": "literal", "value": "F\u00fcrth"}}, {"historian": {"type": "uri", "value": "http://www.wikidata.org/entity/Q90407"}, "birthplace": {"type": "uri", "value": "http://www.wikidata.org/entity/Q3075"}, "historian_name": {"xml:lang": "en", "type": "literal", "value": "Richard Krautheimer"}, "birthplace_label": {"xml:lang": "en-gb", "type": "literal", "value": "F\u00fcrth"}}, {"historian": {"type": "uri", "value": "http://www.wikidata.org/entity/Q90407"}, "birthplace": {"type": "uri", "value": "http://www.wikidata.org/entity/Q3075"}, "historian_name": {"xml:lang": "en-ca", "type": "literal", "value": "Richard Krautheimer"}, "birthplace_label": {"xml:lang": "en", "type": "literal", "value": "F\u00fcrth"}}, {"historian": {"type": "uri", "value": "http://www.wikidata.org/entity/Q90407"}, "birthplace": {"type": "uri", "value": "http://www.wikidata.org/entity/Q3075"}, "historian_name": {"xml:lang": "en-ca", "type": "literal", "value": "Richard Krautheimer"}, "birthplace_label": {"xml:lang": "en-ca", "type": "literal", "value": "F\u00fcrth"}}, {"historian": {"type": "uri", "value": "http://www.wikidata.org/entity/Q90407"}, "birthplace": {"type": "uri", "value": "http://www.wikidata.org/entity/Q3075"}, "historian_name": {"xml:lang": "en-ca", "type": "literal", "value": "Richard Krautheimer"}, "birthplace_label": {"xml:lang": "en-gb", "type": "literal", "value": "F\u00fcrth"}}, {"historian": {"type": "uri", "value": "http://www.wikidata.org/entity/Q90407"}, "birthplace": {"type": "uri", "value": "http://www.wikidata.org/entity/Q3075"}, "historian_name": {"xml:lang": "en-gb", "type": "literal", "value": "Richard Krautheimer"}, "birthplace_label": {"xml:lang": "en", "type": "literal", "value": "F\u00fcrth"}}, {"historian": {"type": "uri", "value": "http://www.wikidata.org/entity/Q90407"}, "birthplace": {"type": "uri", "value": "http://www.wikidata.org/entity/Q3075"}, "historian_name": {"xml:lang": "en-gb", "type": "literal", "value": "Richard Krautheimer"}, "birthplace_label": {"xml:lang": "en-ca", "type": "literal", "value": "F\u00fcrth"}}, {"historian": {"type": "uri", "value": "http://www.wikidata.org/entity/Q90407"}, "birthplace": {"type": "uri", "value": "http://www.wikidata.org/entity/Q3075"}, "historian_name": {"xml:lang": "en-gb", "type": "literal", "value": "Richard Krautheimer"}, "birthplace_label": {"xml:lang": "en-gb", "type": "literal", "value": "F\u00fcrth"}}, {"historian": {"type": "uri", "value": "http://www.wikidata.org/entity/Q1715096"}, "birthplace": {"type": "uri", "value": "http://www.wikidata.org/entity/Q525409"}, "historian_name": {"xml:lang": "en", "type": "literal", "value": "Ulrich Middeldorf"}, "birthplace_label": {"xml:lang": "en", "type": "literal", "value": "Sta\u00dffurt"}}]}}
"""
val = ast.literal_eval(mystr)
val1 = json.loads(json.dumps(val))
val2 = val1['results']['bindings']
#val3 = val2["historian_name"]["value"]
#val4 = val2["birthplace"]["value"]
#val5 = val2["birthplace_label"]["value"]
df = pd.DataFrame(val2, columns=["historian_name", "birthplace", "birthplace_label"])
#print(df)

df.to_csv()
print(df)

save_path = r'C:\Users\Giulia\Desktop\tutorial'

name_of_file = 'birthplaces'

completeName = os.path.join(save_path, name_of_file+'.csv')



with open(completeName, mode='w', newline= "") as my_file:
    my_writer = csv.writer(my_file, delimiter=',', quotechar='"', quoting=csv.QUOTE_ALL)
    my_writer.writerow(df)

birthplaces_df = pd.read_csv("birthplaces.csv")
birthplaces_df.head()
